<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		k8sâ˜14è®¤è¯æˆæƒ | 
	 
	zyh
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "https://www.google.com/search?q=";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "zyh.cool";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d8eaf4579517c8bea955331f62e2b380";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


<header id="header">
    <a id="title" href="/" class="logo">zyh</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">ABOUT</a>
		</li>
	

	

		<li class="menu-item">
			<a href="https://github.com/wujun234/uid-generator-spring-boot-starter" class="menu-item-link" target="_blank">
				UidGenerator
			</a>
		</li>
		<li class="menu-item">
			<a href="https://github.com/wujun234" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="æŒ‰å›è½¦å…¨ç«™æœç´¢">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										web
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										fpm
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/b73a61bf/">
										fpmâ˜å®‰è£…-åŒ…ç®¡ç†æ–¹å¼
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3321a2dc/">
										fpmâ˜å®‰è£…-ç¼–è¯‘æ–¹å¼
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/d1d65c30/">
										fpmâ˜é™æ€é…ç½®
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										nginx
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/58a1c0c7/">
										nginxâ˜fcgiä¸­aliasçš„ä½¿ç”¨
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/18de0eed/">
										nginxâ˜åŸºæœ¬è®¤è¯
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/6209085/">
										nginxâ˜å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/445cf088/">
										nginxâ˜æ—¥å¿—åˆ‡å‰²
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/78ceb386/">
										nginxâ˜æ³›åŸŸå_å˜é‡æˆªå–
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										å…¶å®ƒ
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/7c44c2e8/">
										webâ˜æœåŠ¡å™¨æ‰¿è½½èƒ½åŠ›è®¡ç®—
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ä¸­é—´ä»¶
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										rabbitmq
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/b43013ef/">
										rabbitmqâ˜å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										å…¬æœ‰äº‘
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										aws
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/2e07203a/">
										awsâ˜EC2-GPUå®ä¾‹å®‰è£…æ˜¾å¡é©±åŠ¨
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/438aa722/">
										awsâ˜rds-mysqlå‚æ•°
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/604c5952/">
										awsâ˜rds-mysqlæ—¥å¿—
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/2c5a64ff/">
										awsâ˜s3åˆå§‹åŒ–åˆ›å»º
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/7cac5d21/">
										awsâ˜s3è·¨è´¦æˆ·è®¿é—®
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/ddc4c969/">
										awsâ˜åˆ©ç”¨cfæœåŠ¡åˆå§‹åŒ–awsç¯å¢ƒ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/2e304ad6/">
										awsâ˜å›½å†…å¤–ä¹‹é—´è¿ç§»-AMI
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										é˜¿é‡Œäº‘
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/6df9bb76/">
										aliyunâ˜cliå®‰è£…å’ŒåŸºæœ¬è°ƒç”¨
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/b5d7d6ee/">
										aliyunâ˜oss
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4cc38acc/">
										aliyunâ˜å¸¸è§é—®é¢˜
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										å…¶å®ƒ
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										git
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/a38d0013/">
										gitlabâ˜å¤§ç‰ˆæœ¬è¿ç§»
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3f38f454/">
										gitlabâ˜å®‰è£…åŠå¤‡ä»½
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/5edc3545/">
										gitlabâ˜æ‰¹é‡ä¿®æ”¹ç”¨æˆ·å¯†ç 
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f0c6f6c3/">
										gitâ˜å¸¸ç”¨å‘½ä»¤
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										hexo
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/662e9d4d/">
										hexoâ˜å›¾ç‰‡æ˜¾ç¤º404é”™è¯¯çš„è§£å†³åŠæ³•
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f5c218d/">
										hexoâ˜æœ¬åœ°æœç´¢
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/7c1abbe1/">
										openvpnâ˜å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/894f9595/">
										vsftpdâ˜å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3827a60a/">
										å·¥å…·åº“
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/5290b79d/">
										ç½‘ç»œâ˜S5700é…ç½®æ”»å‡»æœ”æº
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/6f53a6b8/">
										ç½‘ç»œâ˜é“¾è·¯èšåˆ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/1ddb9d4e/">
										é—®é¢˜è®°å½•
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										å®¹å™¨
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										docker
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/b7cf7b1f/">
										dockerâ˜01å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										k8s
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/aaf9b7/">
										k8sâ˜01å¸¸è§æœ¯è¯­æ¦‚å¿µ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/9602dad/">
										k8sâ˜02v1.18.6å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/94518966/">
										k8sâ˜03pod
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3ec72f7e/">
										k8sâ˜04podé’©å­å‡½æ•°
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/9aa66899/">
										k8sâ˜05podæ¢æµ‹å™¨
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/18e4fa73/">
										k8sâ˜06æ— çŠ¶æ€æœåŠ¡deployment-podæ›´æ–°
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f6e328b5/">
										k8sâ˜07æ— çŠ¶æ€æœåŠ¡deployment-podæ‰©ç¼©
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/d3b80b5f/">
										k8sâ˜08è´Ÿè½½å‡è¡¡service
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/1080c6b6/">
										k8sâ˜09å­˜å‚¨èµ„æº
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4b0e4a5/">
										k8sâ˜09åº”ç”¨é…ç½®ä¸å¯†ç ä¸ä¿¡æ¯æä¾›
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4b0e4a5/">
										k8sâ˜10åº”ç”¨é…ç½®ä¸å¯†ç ä¸ä¿¡æ¯æä¾›
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/64fa9c84/">
										k8sâ˜11-1podèµ„æºçº¦æŸ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/ed4c29d5/">
										k8sâ˜11-2namespaceèµ„æºçº¦æŸ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/63d8d3d4/">
										k8sâ˜12-1å®ˆæŠ¤è¿›ç¨‹
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4bf29cf0/">
										k8sâ˜12-2æœ‰çŠ¶æ€æœåŠ¡StatefulSet
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/7627a41d/">
										k8sâ˜13é«˜çº§ç‰ˆè´Ÿè½½å‡è¡¡ingress
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/posts/a5ed67a6/">
										k8sâ˜14è®¤è¯æˆæƒ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/55da993d/">
										k8sâ˜15è¯ä¹¦ç®¡ç†
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/7538d100/">
										k8sâ˜16kubeadmé›†ç¾¤å‡çº§
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/932d1f08/">
										k8sâ˜17nodeæ±¡æŸ“å’Œpodå®¹å¿
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/9a7bc037/">
										k8sâ˜showdocéƒ¨ç½²
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/e1096625/">
										k8sâ˜è®°å½•ç‚¹
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										æ•°æ®åº“
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										mysql
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/b824edd8/">
										mysqlâ˜å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/e6ae9474/">
										mysqlâ˜å¸¸ç”¨å‘½ä»¤
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/c83ca575/">
										mysqlâ˜ç¦»çº¿è¿ç§»è„šæœ¬
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										redis
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/2c2d50a0/">
										redisâ˜å¤‡ä»½
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/65ab632a/">
										redisâ˜å®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/28361833/">
										redisâ˜è·å–æ²¡æœ‰è®¾ç½®ttlçš„key
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/28361833/">
										redisâ˜è°ƒæ•´å†…æ ¸å‚æ•°
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										æ—¥å¿—
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ELK
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/3475106c/">
										æ—¥å¿—â˜ELKç®€å•éƒ¨ç½²-å®¹å™¨æ–¹å¼
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										å…¶å®ƒ
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/421d605e/">
										æ—¥å¿—â˜logrotateå®‰è£…
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ç›‘æ§
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										prometheus
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/65820315/">
										prometheusâ˜01æ­å»º
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/e172b6e2/">
										prometheusâ˜02å¤–ç½®prometheusç›‘æ§k8s
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/bced4977/">
										prometheusâ˜03k8så†…ç½®éƒ¨ç½²
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/978d0c1d/">
										prometheusâ˜04redisç›‘æ§
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/6178b477/">
										prometheusâ˜05mysqlç›‘æ§
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/6178b477/">
										prometheusâ˜06rabbitmqç›‘æ§
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										zabbix
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/3d20f83e/">
										zabbixâ˜WEBç›‘æ§
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/1587f6e8/">
										zabbixâ˜agentå’Œproxy(yum)
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/b35b5965/">
										zabbixâ˜nginx
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/6c093771/">
										zabbixâ˜redis
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/ed865d2f/">
										zabbixâ˜serverå®‰è£…æ³¨æ„äº‹é¡¹
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/25f36846/">
										zabbixâ˜å®¹å™¨æ­å»º
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4ebbd3a8/">
										zabbixâ˜é¢„è­¦
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										å…¶å®ƒ
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/ae41ae33/">
										ç›‘æ§â˜monit
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/ab1247fb/">
										ç›‘æ§â˜mysqlæ…¢sqlé¢„è­¦
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/8c33f887/">
										ç›‘æ§â˜ä¼ä¸šå¾®ä¿¡æœºå™¨äºº
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f9b08c30/">
										ç›‘æ§â˜å¾®ä¿¡é¢„è­¦
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/1fac36d/">
										ç›‘æ§â˜è¿œç¨‹ç£ç›˜æ£€æµ‹
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f8f9b4d0/">
										ç›‘æ§â˜é‚®ä»¶é¢„è­¦
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ç³»ç»Ÿ
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										linux
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/a3dfc0e8/">
										linuxâ˜dfä¸duæ•°æ®ä¸ä¸€è‡´çš„åŸå› 
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/5db0cd07/">
										linuxâ˜ssh-MFAè‡ªåŠ¨ç™»é™†
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/e4f7ce4c/">
										linuxâ˜ubuntu20-04çº¯å‘½ä»¤è¡Œç½‘å¡é…ç½®
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/7b3cf3d8/">
										linuxâ˜ä½¿ç”¨expectè‡ªåŠ¨ç™»å½•sshåè¿œç¨‹ä¼šè¯ä¸ä¼šè·Ÿéšæœ¬åœ°ä¼šè¯ç¼©æ”¾çš„é—®é¢˜
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/d2fed0bf/">
										linuxâ˜åˆ©ç”¨acme-shç®¡ç†å…è´¹çš„sslè¯ä¹¦ç”³è¯·
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/cd32aa48/">
										linuxâ˜æ—¶é—´
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f41d0763/">
										linuxâ˜ç³»ç»Ÿå†…æ ¸ä¼˜åŒ–
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/a7611bc1/">
										linuxâ˜è½¯raidåˆ›å»º
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3988a5f2/">
										linuxâ˜è¾“å‡ºä¸ªæ€§åŒ–å¼€æœºçŠ¶æ€
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										windows
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/22b82d75/">
										windows-åŒ…ç®¡ç†å·¥å…·-scoop
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/88eb7b6/">
										windowsâ˜win10è¿ç§»æ•°æ®
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										è‡ªåŠ¨åŒ–
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										ansible
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/15aa7d2e/">
										ansibleâ˜playbook-aws
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/b0929188/">
										ansibleâ˜playbook-handle
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/6ce01f58/">
										ansibleâ˜playbook-include
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/25732c33/">
										ansibleâ˜playbook-lookupæ’ä»¶
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/960fc783/">
										ansibleâ˜playbook-tags
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4235ddf4/">
										ansibleâ˜playbook-å˜é‡
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/14bc184e/">
										ansibleâ˜playbook-å¾ªç¯
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/29683589/">
										ansibleâ˜playbook-æ¡ä»¶åˆ¤æ–­
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/f43dca37/">
										ansibleâ˜playbook-è¿‡æ»¤å™¨
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/c4126d5a/">
										ansibleâ˜playbook-é”™è¯¯æ•è·
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/d3e413b7/">
										ansibleâ˜åŸºç¡€ä¿¡æ¯
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/1e274151/">
										ansibleâ˜å¸¸ç”¨æ¨¡å—-å‘½ä»¤è°ƒç”¨
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/4235ddf4/">
										ansibleâ˜å¸¸ç”¨æ¨¡å—-æ–‡æœ¬æ–‡ä»¶æ“ä½œ
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/84eb900/">
										ansibleâ˜å¸¸ç”¨æ¨¡å—-ç³»ç»Ÿç›¸å…³
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3d9b9ec1/">
										ansibleâ˜å¸¸ç”¨æ¨¡å—-è½¯ä»¶åŒ…ç®¡ç†
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/724fda19/">
										ansibleâ˜æ¨¡æ¿
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/720afd15/">
										ansibleâ˜è§’è‰²
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										jenkins
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/3e0f2183/">
										jenkinsâ˜ä»å®¹å™¨ä¸­è®¿é—®å®¿ä¸»æœºdockerå‘½ä»¤
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/3b5cd3e1/">
										jenkinsâ˜åŠ¨æ€agent
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/posts/d9cdb70/">
										jenkinsâ˜å®‰è£…å’ŒåŸºæœ¬é…ç½®
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										è¯­è¨€
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										css
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/fa5680b3/">
										cssâ˜èƒŒæ™¯å›¾å±…ä¸­æ‹‰ä¼¸å¹³é“º
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										java
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/ac6b3b36/">
										jdkâ˜å®‰è£…å’Œé…ç½®
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										shell
									</a>
									
							<ul>
								<li class="file">
									<a href="/posts/241ce96c/">
										shellâ˜ifåˆ¤å®š
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- å¼•å…¥æ­£æ–‡ -->
	<div id="content">
		<h1 id="article-title">

	k8sâ˜14è®¤è¯æˆæƒ
</h1>
<div class="article-meta">
	
		<span>
			é˜…è¯»é‡:<span id="/posts/a5ed67a6/" class="leancloud_visitors" data-flag-title="k8sâ˜14è®¤è¯æˆæƒ"></span>
		</span>
	
	<span>zyh</span>
	<span>2020-10-15 16:35:23</span>
		<div id="article-categories">
    
		<span>Categoriesï¼š</span>
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true">
                        <a href="/categories/å®¹å™¨/">å®¹å™¨</a>
                        </i>
                      
                        >
                      
                    </span>
                
            
                
                    <span>
                        <i class="fa fa-folder" aria-hidden="true">
                        <a href="/categories/å®¹å™¨/k8s/">k8s</a>
                        </i>
                      
                    </span>
                
            
    

    
		<span>Tagsï¼š</span>
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/å®¹å™¨/">å®¹å™¨</a>
                        </i>
                    </span>
                
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/k8s/">k8s</a>
                        </i>
                    </span>
                
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/authorization/">authorization</a>
                        </i>
                    </span>
                
            
    
		</div>

</div>

<div id="article-content">
	<p>è¿™é‡Œæ˜¯ä¸€ä¸ªè®¤è¯çš„ä¸€ä¸ªåŸºæœ¬æµç¨‹ï¼š</p>
<p><img src="/posts/a5ed67a6/image-20201016114248549.png" alt="image-20201016114248549"></p>
<p>å³ï¼š kubectl =&gt; ç”¨æˆ·è®¤è¯ =&gt; ç”¨æˆ·æˆæƒ =&gt; å…¥å£æ§åˆ¶ -&gt; èµ„æºå¯¹è±¡</p>
<p>ç”¨æˆ·è®¤è¯ï¼šæ£€æŸ¥é€’äº¤ä¿¡æ¯åŒ…å«çš„è¯ä¹¦ï¼Œç”¨æˆ·å</p>
<p>ç”¨æˆ·æˆæƒï¼šç»™ç”¨æˆ·æˆæƒæƒé™ç­–ç•¥ï¼Œæˆæƒæ–¹å¼æœ‰å¤šç§ï¼šABAC mode, RBAC Mode, and Webhook mode</p>
<p>å…¥å£æ§åˆ¶å™¨ï¼šå…·æœ‰ç‰¹æ®ŠåŠŸèƒ½çš„è¿‡æ»¤å™¨ï¼Œä»–ä»¬ä¼šæŠŠè¯·æ±‚æ‹¦æˆªä¸‹æ¥ï¼Œå¦‚æœè¯·æ±‚è¿åäº†è¿‡æ»¤å™¨çš„é…ç½®ï¼Œåˆ™è¯·æ±‚ä¼šè¢«æ‹’ç»ã€‚</p>
<p>å½“ä½ ä»ä½¿ç”¨è€…è§’åº¦æ¥çœ‹çš„æ—¶å€™ï¼Œk8sæŠŠç”¨æˆ·åˆ†ä¸ºæ™®é€šç”¨æˆ·å’ŒæœåŠ¡ç”¨æˆ·ã€‚æ™®é€šç”¨æˆ·å¯¹å¤–ï¼ˆä¹Ÿå°±æ˜¯ä¸Šå›¾é‡Œçš„Humanï¼‰ï¼ŒæœåŠ¡ç”¨æˆ·å¯¹å†…ï¼ˆä¹Ÿå°±æ˜¯ä¸Šå›¾é‡Œçš„Podï¼‰ã€‚</p>
<p>è¯·è®°ä½ï¼Œk8så¹¶æ²¡æœ‰æ™®é€šç”¨æˆ·çš„<strong>å®ä½“å¯¹è±¡</strong>ã€‚å› æ­¤ï¼Œåªè¦ä½ é€’äº¤çš„ç”¨æˆ·æ‹¥æœ‰k8sé›†ç¾¤å†…éƒ¨CAæ‰€ç­¾å‘çš„è¯ä¹¦ï¼Œé‚£ä¹ˆè¿™ä¸ªç”¨æˆ·å°±ä¼šè¢«rbacå­ç³»ç»Ÿè®¤ä¸ºæ˜¯æœ‰æ•ˆçš„ã€‚</p>
<h2 id="æ™®é€šç”¨æˆ·-user">æ™®é€šç”¨æˆ· user</h2>
<h3 id="æ„å»ºæ™®é€šç”¨æˆ·ï¼Œç”¨äºç”¨æˆ·è®¤è¯é˜¶æ®µ">æ„å»ºæ™®é€šç”¨æˆ·ï¼Œç”¨äºç”¨æˆ·è®¤è¯é˜¶æ®µ</h3>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/#normal-user">https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/#normal-user</a></p>
<ol>
<li>
<p>åˆ›å»ºç§é’¥key, è¯ä¹¦è¯·æ±‚csr</p>
<p>åˆ›å»ºç§é’¥ä¼šè®©ä½ å¡«å†™ä¸€äº›å±æ€§ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªå±æ€§ç‰¹åˆ«é‡è¦ï¼Œåˆ†åˆ«æ˜¯æŒ‡å®šç”¨æˆ·åçš„å±æ€§CNå’ŒæŒ‡å®šç”¨æˆ·ç»„çš„å±æ€§O</p>
<pre><code>openssl genrsa -out zyh.key 2048
</code></pre>
</li>
</ol>
<p>openssl req -new -key zyh.key -out zyh.csr -subj â€œ/CN=zyh/O=itâ€</p>
<pre><code>
2. æ„å»ºk8sçš„CertificateSigningRequestå¯¹è±¡

ç¬¬ä¸€æ­¥ï¼šcsræ–‡ä»¶è¿›è¡Œbase64ç¼–ç 

```bash
RequestStr=`cat zyh.csr | base64 | tr -d &quot;\n&quot;`
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šå°†ç¼–ç åçš„å†…å®¹å†™å…¥ request å­—æ®µ</p>
<pre><code class="language-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: certificates.k8s.io/v1beta1
kind: CertificateSigningRequest
metadata:
  name: zyh
spec:
  groups:
  - system:authenticated
  request: $&#123;RequestStr&#125;
  signerName: kubernetes.io/kube-apiserver-client
  usages:
  - client auth
EOF
</code></pre>
<p>â­ï¸usageså­—æ®µå¿…é¡»æ˜¯<code>client auth</code></p>
<p>ğŸŒŸå¦‚æœä½ ç”¨çš„æ˜¯1.19ç‰ˆæœ¬ï¼Œé‚£ä¹ˆapiVersionæ˜¯<code>certificates.k8s.io/v1</code></p>
<p>â­ï¸éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯ä¹¦ç­¾å‘é»˜è®¤åªæœ‰1å¹´æœ‰æ•ˆæœŸ</p>
<p>ğŸŒŸç¡®ä¿å½“å‰ csr æ²¡æœ‰é‡åç”³è¯·</p>
<ol start="3">
<li>
<p>æ‰¹å‡†è¯ä¹¦è¯·æ±‚ï¼Œå¹¶è·å–è¯ä¹¦</p>
<p>æ‰¹å‡†ï¼š</p>
<pre><code class="language-bash">kubectl get csr
kubectl certificate approve zyh
</code></pre>
<p>è·å–ï¼š</p>
<pre><code class="language-bash">kubectl get csr zyh -o jsonpath='&#123;.status.certificate&#125;' | base64 --decode &gt; zyh.crt
</code></pre>
<p>â­ï¸æ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸï¼šâ€‹<code>openssl x509 -in zyh.crt -noout -dates</code></p>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªæ™®é€šç”¨æˆ·å°±åˆ›å»ºå®Œæ¯•äº†ã€‚ä½†æ˜¯å®ƒæ²¡æœ‰ä»»ä½•æƒé™ï¼Œè¿˜éœ€è¦è¿›è¡Œæˆæƒã€‚</p>
</li>
</ol>
<h3 id="åˆ›å»ºè§’è‰²å’Œç»‘å®šè§’è‰²ï¼Œç”¨äºç”¨æˆ·æˆæƒé˜¶æ®µ">åˆ›å»ºè§’è‰²å’Œç»‘å®šè§’è‰²ï¼Œç”¨äºç”¨æˆ·æˆæƒé˜¶æ®µ</h3>
<p>æˆæƒå°±æ˜¯ç»™è¿™ä¸ªç”¨æˆ·ç»‘å®šä¸€ä¸ªå…·ä½“çš„è§’è‰²ã€‚è§’è‰²ä»£è¡¨äº†ä¸€ç§æƒé™é›†åˆã€‚</p>
<ol>
<li>
<p>åˆ›å»ºè§’è‰²å¯¹è±¡èµ„æºï¼Œåˆ›å»ºä¸€ä¸ªdeveloperè§’è‰²ï¼Œæƒé™æ˜¯æ‹¥æœ‰podèµ„æºçš„å¢åˆ æ”¹æŸ¥ï¼Œä¸”<strong>å‘½åç©ºé—´æ˜¯developer</strong></p>
<pre><code class="language-bash">kubectl create role developer --verb=create --verb=get --verb=list --verb=update --verb=delete --resource=pods --namespace=developer
</code></pre>
</li>
<li>
<p>åˆ›å»ºè§’è‰²ç»‘å®šå¯¹è±¡èµ„æºï¼Œä¸”<strong>å‘½åç©ºé—´æ˜¯developer</strong></p>
<pre><code class="language-bash">kubectl create rolebinding developer-binding-zyh --role=developer --user=zyh --namespace=developer
</code></pre>
</li>
</ol>
<h3 id="æ·»åŠ æ™®é€šç”¨æˆ·åˆ°kubectlçš„é…ç½®æ–‡ä»¶">æ·»åŠ æ™®é€šç”¨æˆ·åˆ°kubectlçš„é…ç½®æ–‡ä»¶</h3>
<ol>
<li>
<p>æ·»åŠ ç”¨æˆ·è¯ä¹¦åˆ°kubectlé…ç½®</p>
<pre><code class="language-bash">kubectl config set-credentials zyh --client-key=zyh.key --client-certificate=zyh.crt --embed-certs=true
</code></pre>
</li>
<li>
<p>è®¾ç½®ç”¨æˆ·ä¸Šä¸‹æ–‡ï¼Œæ–¹ä¾¿è¿›è¡Œç”¨æˆ·åˆ‡æ¢</p>
<pre><code class="language-bash">kubectl config set-context zyh --cluster=kubernetes --user=zyh
</code></pre>
</li>
<li>
<p>é€šè¿‡ç”¨æˆ·ä¸Šä¸‹æ–‡è¿›è¡Œç”¨æˆ·åˆ‡æ¢</p>
<pre><code class="language-bash">kubectl config use-context zyh
</code></pre>
</li>
<li>
<p>æµ‹è¯•æƒé™</p>
<pre><code class="language-bash">kubectl get pod -n developer
===
No resources found in developer namespace.

kubectl get svc -n developer
===
Error from server (Forbidden): services is forbidden: User &quot;zyh&quot; cannot list resource &quot;services&quot; in API group &quot;&quot; in the namespace &quot;developer&quot;
</code></pre>
</li>
</ol>
<p>é€šè¿‡ä¸Šè¿°åˆ›å»ºè¿‡ç¨‹ï¼Œä½ å¯ä»¥å‘ç°ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µå…¶å®æ˜¯åˆ†ç¦»çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªç”¨æˆ·ï¼Œç„¶åç”¨åŒä¸€ä¸ªè§’è‰²ç»‘å®šå¤šä¸ªç”¨æˆ·ã€‚</p>
<p>è€Œç”¨æˆ·çš„æœ‰æ•ˆæœŸï¼Œå–å†³äºä½ è¯ä¹¦çš„æœ‰æ•ˆæœŸã€‚</p>
<h2 id="æœåŠ¡ç”¨æˆ·-serviceaccount">æœåŠ¡ç”¨æˆ· serviceaccount</h2>
<p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/access-authn-authz/service-accounts-admin/#service-account-automation">https://kubernetes.io/docs/reference/access-authn-authz/service-accounts-admin/#service-account-automation</a></p>

</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/posts/55da993d/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  k8sâ˜15è¯ä¹¦ç®¡ç†
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/posts/1080c6b6/">
                k8sâ˜09å­˜å‚¨èµ„æº
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>



	<div id="vcomments"></div>


<script>
	
		// è¯„è®º
		new Valine({
			av: AV,
			el: '#vcomments',
			notify: false,
			verify: false,
			path: window.location.pathname,
			appId: 'Sq2igagqhmGqvs3eHHtcNKiB-gzGzoHsz',
			appKey: 'cDTpqcpogeQq55SOuBHEXv9W',
			placeholder: 'å†™ç‚¹ä¸œè¥¿å§',
			avatar: 'retro',
			recordIP: false
		})
	
	
    // æ˜¾ç¤ºæ¬¡æ•°
		function showTime(Counter) {
			var query = new AV.Query("Counter");
			if($(".leancloud_visitors").length > 0){
				var url = $(".leancloud_visitors").attr('id').trim();
				// where field
				query.equalTo("words", url);
				// count
				query.count().then(function (number) {
					// There are number instances of MyClass where words equals url.
					$(document.getElementById(url)).text(number?  number : '--');
				}, function (error) {
					// error is an instance of AVError.
				});
			}
		}
		// è¿½åŠ pv
		function addCount(Counter) {
			var url = $(".leancloud_visitors").length > 0 ? $(".leancloud_visitors").attr('id').trim() : 'wujun234.github.io';
			var Counter = AV.Object.extend("Counter");
			var query = new Counter;
			query.save({
				words: url
			}).then(function (object) {
			})
		}
		$(function () {
			var Counter = AV.Object.extend("Counter");
			addCount(Counter);
			showTime(Counter);
		});
	
</script>
	</div>
	<div id="footer">
	<p>
	Â©2016-<span id="footerYear"></span> 
	<a href="/">zyh</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>